<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper
  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN"
  "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="kr.co.project.review.dao.ReviewDAO">
	
	<!-- 리뷰 등록 -->	
	<insert id="writeReview" parameterType="reviewVO">
		insert into review(id, book_id, rating, content, good, bad)
			   values(#{id}, #{book_id}, #{rating}, #{content}, #{good}, #{bad})
	</insert>
	
	<!-- 리뷰 book_id로 불러오기 -->	
	<select id="reviewListByBook_id" resultType="reviewVO" parameterType="string">
		select id, book_id, rating, content, good, bad, to_char(review_reg_date, 'yyyy-mm-dd') as review_reg_date
		  from review
		  where book_id = #{book_id}
	</select>
	
</mapper>